"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8211],{874:(e,t,s)=>{s.d(t,{O:()=>n,U:()=>l});var i=s(7620),a=s(11362);let n=()=>{let e=(0,i.useContext)(a.O);if(!e)throw Error("useExtensions must be used within ExtensionsProvider");return e},l=()=>{let{extensions:e,setExtensionSettings:t}=n();return async s=>{let i=e.find(e=>e.id===s);if(!i)return;let a=i.settings||{};await t(s,{...a,isEnabled:!a.isEnabled})}}},3354:(e,t,s)=>{s.d(t,{So:()=>o,wH:()=>d,yo:()=>c});var i=s(62101),a=s(7620),n=s(13070),l=s(55323),r=s(40459);let o=async e=>{try{let t=await (null===i.Fd||void 0===i.Fd?void 0:i.Fd.getCompatibilityCheckResult());return function(e,t){var s,i,a;let r=[];if(!t)return r.push("claude-version-mismatch"),{compatible:!1,errorCodes:r};let o=function(e){var t;if(!(null==(t=e.compatibility)?void 0:t.platforms))return{compatible:!0};let s=(0,l.E)(),i=null==s?void 0:s.platform;return i&&e.compatibility.platforms.includes(i)?{compatible:!0}:{compatible:!1,errorCodes:["platform-mismatch"]}}(e);!o.compatible&&o.errorCodes&&r.push(...o.errorCodes);let d=(s=e,i=t,(null==(a=s.compatibility)?void 0:a.claude_desktop)&&i.appVersion?(0,n.satisfies)(i.appVersion,s.compatibility.claude_desktop)?{compatible:!0}:{compatible:!1,errorCodes:["claude-version-mismatch"]}:{compatible:!0});if(!d.compatible&&d.errorCodes&&r.push(...d.errorCodes),"node"===e.server.type){let s=function(e,t){var s,i;if("node"!==e.server.type)return{compatible:!0};let a=e.server.mcp_config.command,{builtInNodeVersion:l,nodeVersion:r}=t,o=null==(i=e.compatibility)||null==(s=i.runtimes)?void 0:s.node;if(r&&(!o||o&&(0,n.satisfies)(r,o)))return{compatible:!0};if(l){let e=a&&/^node(\.exe)?$/.test(a),t=!o||(0,n.satisfies)(l,o);return e||r?t?{compatible:!0}:{compatible:!1,errorCodes:["built-in-node-version-mismatch"]}:{compatible:!1,errorCodes:["no-node-installed-and-not-node-command"]}}return r||l?{compatible:!0}:{compatible:!1,errorCodes:["no-node-and-no-built-in-node"]}}(e,t);!s.compatible&&s.errorCodes&&r.push(...s.errorCodes)}else if("python"===e.server.type){let s=function(e,t){var s,i;if("python"!==e.server.type)return{compatible:!0};let{pythonVersion:a}=t,l=null==(i=e.compatibility)||null==(s=i.runtimes)?void 0:s.python;return a?l?(0,n.satisfies)(a,l)?{compatible:!0}:{compatible:!1,errorCodes:["python-version-mismatch"]}:{compatible:!0}:{compatible:!1,errorCodes:["no-python-installed"]}}(e,t);!s.compatible&&s.errorCodes&&r.push(...s.errorCodes)}return{compatible:0===r.length,...r.length>0&&{errorCodes:r}}}(e,t||null)}catch(e){return{compatible:!1,errorCodes:["claude-version-mismatch"]}}},d=e=>{let{manifest:t}=e,[s,i]=(0,a.useState)(null),[n,l]=(0,a.useState)(!1),[r,d]=(0,a.useState)(null),c=(0,a.useCallback)(async()=>{if(!t)return void i(null);l(!0),d(null);try{let e=await o(t);i(e)}catch(e){d(e instanceof Error?e:Error("Failed to check compatibility")),i(null)}finally{l(!1)}},[t]);return(0,a.useEffect)(()=>{t?c():(i(null),l(!1),d(null))},[t,c]),{compatibility:s,isChecking:n,error:r,checkCompatibility:c}},c=(e,t)=>{var s,i;let a=[],n=(0,l.E)();if(!(null==e?void 0:e.compatibility))return a;if(e.compatibility.platforms&&e.compatibility.platforms.length>0){let s={win32:"Windows",darwin:"macOS",linux:"Linux"},i=s[r.platform]||(null==n?void 0:n.platform),l=e.compatibility.platforms.map(e=>s[e]||e).join(", "),o=!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("platform-mismatch");a.push({name:o?i:l,met:o})}if(e.compatibility.claude_desktop&&a.push({name:"Claude Desktop ".concat(e.compatibility.claude_desktop),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("claude-version-mismatch")}),"node"===e.server.type&&(null==(s=e.compatibility.runtimes)?void 0:s.node)){let s=["node-version-mismatch","no-node-installed-and-not-node-command","no-node-and-no-built-in-node","built-in-node-version-mismatch"];a.push({name:"Node.js ".concat(e.compatibility.runtimes.node),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(e=>s.includes(e))})}else if("node"===e.server.type){let e=["no-node-installed-and-not-node-command","no-node-and-no-built-in-node"];a.push({name:"Node.js",met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(t=>e.includes(t))})}if("python"===e.server.type&&(null==(i=e.compatibility.runtimes)?void 0:i.python)){let s=["python-version-mismatch","no-python-installed"];a.push({name:"Python ".concat(e.compatibility.runtimes.python),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(e=>s.includes(e))})}else"python"===e.server.type&&a.push({name:"Python",met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("no-python-installed")});return a}},11362:(e,t,s)=>{s.d(t,{O:()=>r,y:()=>o});var i=s(54568),a=s(62101),n=s(7620),l=s(3354);let r=(0,n.createContext)(void 0),o=e=>{let{children:t}=e,[s,o]=(0,n.useState)([]),[d,c]=(0,n.useState)(!0),[u,p]=(0,n.useState)(!1),[m,f]=(0,n.useState)(null),[h,v]=(0,n.useState)(!0),[g,x]=(0,n.useState)(!0),y=(0,n.useCallback)(async()=>{try{c(!0),f(null);let e=await (null===a.Fd||void 0===a.Fd?void 0:a.Fd.getInstalledExtensionsWithState());e&&o(e),p(!0)}catch(e){f(e instanceof Error?e.message:"Failed to load extensions")}finally{c(!1)}},[]),b=(0,n.useCallback)(async(e,t)=>{try{await (null===a.Fd||void 0===a.Fd?void 0:a.Fd.setExtensionSettings(e,t)),o(s=>s.map(s=>s.id===e?{...s,settings:{...s.settings,...t}}:s))}catch(e){f(e instanceof Error?e.message:"Failed to update extension settings"),await y()}},[y]),j=(0,n.useCallback)(async e=>{try{await (null===a.Fd||void 0===a.Fd?void 0:a.Fd.deleteExtension(e)),o(t=>t.filter(t=>t.id!==e))}catch(e){f(e instanceof Error?e.message:"Failed to delete extension"),await y()}},[y]);(0,n.useEffect)(()=>{y(),null===a.Fd||void 0===a.Fd||a.Fd.isDirectoryEnabled().then(v),null===a.Fd||void 0===a.Fd||a.Fd.isExtensionsEnabled().then(x);let e=null===a.Fd||void 0===a.Fd?void 0:a.Fd.onExtensionsChanged(()=>{y()}),t=null===a.Fd||void 0===a.Fd?void 0:a.Fd.onExtensionSettingsChanged((e,t)=>{o(s=>s.map(s=>s.id===e?{...s,settings:{...s.settings,...t}}:s))});return()=>{null==e||e(),null==t||t()}},[y]);let w=(0,n.useCallback)(e=>s.find(t=>t.id===e),[s]),C=(0,n.useMemo)(()=>({extensions:s,isLoading:d,hasLoadedOnce:u,error:m,isDirectoryEnabled:h,isExtensionsEnabled:g,setExtensionSettings:b,deleteExtension:j,refreshExtensions:y,getExtensionById:w,checkExtensionCompatibility:l.So}),[j,m,s,w,h,g,d,y,b,u]);return(0,i.jsx)(r.Provider,{value:C,children:t})}},11500:(e,t,s)=>{s.d(t,{h:()=>d});var i=s(54568),a=s(18472),n=s(8027),l=s(11515),r=s(34059),o=s(71857);let d=e=>{let{size:t,imageSize:s,iconUrl:d="",syncSourceType:c,name:u,className:p,type:m="favicon"}=e,f=(0,i.jsx)(n.B,{letter:u,size:s,hideBorder:!0});return(0,i.jsx)(a.O,{size:t,className:p,children:"favicon"===m?(0,i.jsx)(l.d,{fadeInOnLoad:!0,url:d,size:s,fallbackSvg:f}):"external"===m?(0,i.jsx)(o.u,{style:{maxWidth:s,maxHeight:s},className:"object-contain",width:s,height:s,src:d||"",alt:"".concat(u," icon"),fallbackSvg:f,fadeInOnLoad:!0}):"syncSource"===m&&c?(0,i.jsx)(r.A9,{type:c,size:s}):(0,i.jsx)(o.o,{style:{maxWidth:s,maxHeight:s},className:"object-contain",width:s,height:s,src:d,alt:"".concat(u," icon"),fallbackSvg:f,fadeInOnLoad:!0})})}},18472:(e,t,s)=>{s.d(t,{O:()=>n});var i=s(54568),a=s(32987);let n=e=>{let{size:t=20,borderRadius:s=.27*t,className:n,children:l}=e;return(0,i.jsx)("div",{style:{width:t,height:t,borderRadius:s},className:(0,a.A)("shrink-0 bg-bg-000 border-border-300 border-0.5 shadow-sm flex items-center justify-center",n),children:l})}},22364:(e,t,s)=>{s.d(t,{P:()=>f});var i=s(54568),a=s(1761),n=s(15046),l=s(41417),r=s(56370),o=s(29242),d=s(60265),c=s(99272),u=s(32987),p=s(62971),m=s(92947);function f(e){var t,s;let{tool:f,server:h,children:v}=e,{account:g}=(0,a.YL)(),x=null!=(s=null==g||null==(t=g.settings)?void 0:t.enabled_mcp_tools)?s:{},{toggleMcpToolEnabled:y,toggleMcpToolAlwaysApproved:b}=(0,m.es)(),{getApprovalSetting:j}=(0,m.BN)(),{alwaysAllowEnabled:w}=j(h.name,f),C=f.enabledKey,F=!!x[f.alwaysApprovedKey],k=(e,t,s)=>(0,i.jsxs)("div",{className:"flex flex-row gap-2 items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[t,(0,i.jsx)("p",{className:"text-sm text-text-400",children:s})]}),(0,i.jsx)(d.J,{size:16,className:(0,u.A)("shrink-0",e?"opacity-1":"opacity-0")})]}),N=(0,i.jsx)(l.$,{variant:"outline",disabled:!1===x[C]||!w,append:(0,i.jsx)(c.a,{size:16}),className:"!min-w-[200px] flex justify-between items-center",children:F?(0,i.jsx)(p.A,{defaultMessage:"Allow unsupervised",id:"R3Brpp1rTt"}):(0,i.jsx)(p.A,{defaultMessage:"Always ask permission",id:"vJAsn99Znq"})});return(0,i.jsxs)("div",{className:"flex flex-row gap-4 flex-shrink-0",children:[(0,i.jsx)("label",{children:(0,i.jsx)(n.j,{checked:!1!==x[C],onChange:e=>y(C,e.target.checked,h.url)})}),(0,i.jsx)("div",{className:"flex flex-grow",children:v}),(0,i.jsxs)(r.ms,{unstyledTrigger:!0,align:"start",trigger:w?N:(0,i.jsx)(o.m,{side:"top",tooltipContent:(0,i.jsx)(p.A,{defaultMessage:"Setting manged by your organization",id:"+y38sDfyun"}),children:(0,i.jsx)("div",{children:N})}),children:[(0,i.jsx)(r.tJ,{onClick:()=>{y(C,!0,h.url),b(f.alwaysApprovedKey,!1)},children:k(!F,(0,i.jsx)(p.A,{defaultMessage:"Always ask permission",id:"vJAsn99Znq"}),(0,i.jsx)(p.A,{defaultMessage:"Your approval is required every time",id:"Ne5BQmk7c1"}))}),(0,i.jsx)(r.tJ,{onClick:()=>{y(C,!0,h.url),b(f.alwaysApprovedKey,!0)},children:k(F,(0,i.jsx)(p.A,{defaultMessage:"Allow unsupervised",id:"R3Brpp1rTt"}),(0,i.jsx)(p.A,{defaultMessage:"Your approval is not required",id:"9AbpSd6OJA"}))})]})]})}},43793:(e,t,s)=>{s.d(t,{X:()=>c});var i=s(54568),a=s(51121),n=s(41417),l=s(62101),r=s(7620),o=s(46760),d=s(62971);let c=e=>{let{extension:t,size:s="normal",style:c}=e,u=(0,o.A)(),{addError:p}=(0,a.Y)(),[m,f]=(0,r.useState)(null),[h,v]=(0,r.useState)(!0),[g,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!t.id)return v(!1);try{let e=await (null===l.Fd||void 0===l.Fd?void 0:l.Fd.getIsUpdateAvailable(t.id,t.manifest))||null;f(e)}catch(e){p((0,i.jsx)(d.A,{defaultMessage:"Failed to check for extension updates",id:"qmTCOIrDRY",description:"Error message when checking for extension updates fails"}))}finally{v(!1)}})()},[t,p]);let y=async()=>{if(t.id&&m){x(!0);try{await (null===l.Fd||void 0===l.Fd?void 0:l.Fd.installDxtFromDirectory(t.id,m))}catch(e){p((0,i.jsx)(d.A,{defaultMessage:"Failed to update extension",id:"II6Ozv49Lo",description:"Error message when extension update fails"}))}finally{x(!1)}}};if(h||!m)return null;let b=u.formatMessage({defaultMessage:"Update available to v{version}. You are currently on v{currentVersion}.",id:"2Fd2dxtEBo",description:"Title for extension update button"},{version:m,currentVersion:t.manifest.version});return(0,i.jsx)(n.$,{variant:"primary",disabled:g,onClick:y,title:b,style:c,children:g?u.formatMessage({defaultMessage:"Updating...",id:"yugrR4jIsZ",description:"Button text while updating extension"}):"small"===s?u.formatMessage({defaultMessage:"Update",id:"rQoNAJyEVw",description:"Button to update extension (short version)"}):u.formatMessage({defaultMessage:"Update to {version}",id:"Wur112HVmK",description:"Button to update extension to specific version"},{version:m})})}},48700:(e,t,s)=>{s.d(t,{S:()=>f});var i=s(54568),a=s(51121),n=s(15046),l=s(41417),r=s(62101),o=s(14985),d=s(76761),c=s(24871),u=s(7620),p=s(46760),m=s(62971);let f=e=>{let{manifest:t,settings:s,onSave:f,onCancel:h,className:v}=e,g=(0,p.A)(),{addError:x}=(0,a.Y)(),[y,b]=(0,u.useState)({}),[j,w]=(0,u.useState)(!1),[C,F]=(0,u.useState)(!1),[k,N]=(0,u.useState)(!1);if((0,u.useEffect)(()=>{if(s.userConfig)b(s.userConfig);else if(t.user_config){let e={};for(let[s,i]of Object.entries(t.user_config))void 0!==i.default&&(e[s]=i.default);b(e)}},[t.user_config,s.userConfig]),!t.user_config)return null;let M=(e,t)=>{b(s=>({...s,[e]:t})),w(!0)},A=async()=>{F(!0);try{await f(y),w(!1),N(!0),setTimeout(()=>{N(!1)},1e4)}catch(e){x((0,i.jsx)(m.A,{defaultMessage:"Failed to save configuration",id:"k3HNr+oyR6",description:"Error message when extension configuration save fails"}))}finally{F(!1)}};return(0,i.jsx)("div",{className:v,children:(0,i.jsxs)("div",{className:"break-inside-avoid",children:[Object.entries(t.user_config).map(e=>{let[t,s]=e;return(0,i.jsx)("div",{className:"mb-5",children:(0,i.jsxs)("label",{children:[(0,i.jsxs)("div",{className:"mb-2",children:[(0,i.jsx)("span",{className:"text-md",children:s.title}),s.required&&(0,i.jsx)("span",{className:"text-text-400 ml-1",children:(0,i.jsx)(m.A,{defaultMessage:"(Required)",id:"5Q3Kor4lDg",description:"Label indicating a configuration field is required"})})]}),s.description&&"boolean"!==s.type&&(0,i.jsx)("p",{className:"text-xs text-text-400 mt-2 mb-3",children:s.description}),(0,i.jsx)("div",{className:"mb-2 mt-2",children:((e,t)=>{let s=y[e],a="w-full px-3 py-2 border border-border-300/25 rounded-md text-sm text-text-100 bg-bg-100";switch(t.type){case"string":return(0,i.jsx)("input",{type:t.sensitive?"password":"text",value:s||"",onChange:t=>M(e,t.target.value),placeholder:t.description,className:a});case"number":return(0,i.jsx)("input",{type:"number",value:s||"",onChange:t=>M(e,t.target.value?Number(t.target.value):""),min:t.min,max:t.max,placeholder:t.description,className:a});case"boolean":return(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(n.j,{checked:s||!1,onChange:t=>M(e,t.target.checked)}),(0,i.jsx)("span",{className:"text-sm text-text-300",children:t.description})]});case"directory":case"file":if(!t.multiple)return(0,i.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,i.jsx)("input",{type:"text",value:s||"",onChange:t=>M(e,t.target.value),placeholder:g.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(a," flex-1 w-auto")}),(0,i.jsx)(l.$,{variant:"secondary",onClick:async()=>{let s="directory"===t.type?await (null===r.un||void 0===r.un?void 0:r.un.getDirectoryPath(!1)):await (null===r.un||void 0===r.un?void 0:r.un.getFilePath(!1));s&&M(e,s[0])},className:"px-3 py-1.5",children:g.formatMessage({defaultMessage:"Browse",id:"0TPgIp3K/q",description:"Button to browse for file/directory"})})]});{let n=s||[];return(0,i.jsxs)("div",{children:[n.map((s,c)=>(0,i.jsxs)("div",{className:"flex gap-2 mb-2 items-center",children:[(0,i.jsx)("input",{type:"text",value:s,onChange:t=>{let s=[...n];s[c]=t.target.value,M(e,s)},placeholder:g.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(a," flex-1 w-auto")}),(0,i.jsx)(l.$,{variant:"ghost",size:"icon",onClick:async()=>{let s="directory"===t.type?await (null===r.un||void 0===r.un?void 0:r.un.getDirectoryPath(!1)):await (null===r.un||void 0===r.un?void 0:r.un.getFilePath(!1));if(s){let t=[...n];t[c]=s[0],M(e,t)}},children:(0,i.jsx)(o.sj,{})}),(0,i.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>{M(e,n.filter((e,t)=>t!==c))},children:(0,i.jsx)(d.u,{})})]},c)),(0,i.jsxs)(l.$,{variant:"secondary",onClick:()=>{M(e,[...n,""])},className:"mt-2",children:[(0,i.jsx)(c.c,{className:"mr-1.5",size:16}),g.formatMessage({defaultMessage:"Add {type}",id:"1ddlPuxY71",description:"Button to add a new path"},{type:t.type})]})]})}default:return null}})(t,s)})]})},t)}),(0,i.jsxs)("div",{className:"flex gap-3 mt-6 justify-between items-center",children:[h&&(0,i.jsx)(l.$,{variant:"secondary",onClick:h,disabled:C,children:g.formatMessage({defaultMessage:"Cancel",id:"zVjtFM8JfM",description:"Button to cancel configuration edit"})}),k&&(0,i.jsx)("span",{className:"text-sm text-accent-secondary-100",children:g.formatMessage({defaultMessage:"Changes saved",id:"jdKVJo/vQ6",description:"Message shown after configuration is saved"})}),!k&&(0,i.jsx)("div",{}),(0,i.jsx)(l.$,{variant:"primary",onClick:A,disabled:!j||C,children:g.formatMessage({defaultMessage:"Save",id:"NuymVHsb1A",description:"Button to save configuration"})})]})]})})}},55323:(e,t,s)=>{s.d(t,{E:()=>i});function i(){var e,t;if(!(null==(t=window.process)||null==(e=t.versions)?void 0:e.electron))return null;let s=window.process;return{type:s.type||"",arch:s.arch||"",platform:s.platform||"",versions:s.versions||{},isAppPackaged:"true"===s.isAppPackaged,version:s.version||"",isInternalBuild:"true"===s.isInternalBuild}}},62101:(e,t,s)=>{var i,a,n,l,r,o,d;s.d(t,{Fd:()=>f,TQ:()=>m,YQ:()=>u,a8:()=>p,oO:()=>c,un:()=>h});let c=null==(i=globalThis["claude.settings"])?void 0:i.AppConfig,u=null==(a=globalThis["claude.settings"])?void 0:a.Startup,p=null==(n=globalThis["claude.settings"])?void 0:n.GlobalShortcut,m=null==(l=globalThis["claude.settings"])?void 0:l.MCP,f=null==(r=globalThis["claude.settings"])?void 0:r.Extensions,h=null==(o=globalThis["claude.settings"])?void 0:o.FilePickers;null==(d=globalThis["claude.settings"])||d.Misc},73347:(e,t,s)=>{s.d(t,{M:()=>d});var i=s(54568),a=s(41417),n=s(96584),l=s(32987),r=s(7620),o=s(62971);function d(e){let{text:t,className:s}=e,[d,c]=(0,r.useState)(!1),u=(0,r.useRef)(null),p=(0,r.useRef)(0),[m,f]=(0,r.useState)(42),h=m>42;return((0,r.useLayoutEffect)(()=>{var e;f((null==(e=u.current)?void 0:e.scrollHeight)||0)},[t]),t)?(0,i.jsxs)("div",{className:(0,l.A)("overflow-hidden relative transition-[height] duration-150 ease-in-out","text-text-300 text-sm",s),style:{height:d?m+32*!!h:40},children:[(0,i.jsx)("div",{ref:u,className:"whitespace-pre-wrap",style:{wordBreak:"break-word",overflowWrap:"anywhere"},children:t}),h&&(0,i.jsx)("div",{className:"absolute bottom-0 right-0 bg-bg-100 bottom-0",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute top-0 bottom-0 -left-4 w-6 bg-gradient-to-r from-transparent to-bg-100"}),(0,i.jsx)(a.$,{size:"inline",variant:"ghost",onClick:()=>{var e;let t=null==(e=u.current)?void 0:e.closest(".overflow-y-auto");!d&&t?p.current=t.scrollTop:d&&t&&t.scrollTo({top:p.current,behavior:"instant"}),c(e=>!e)},className:"font-medium flex gap-1 items-center",children:d?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Z,{size:12,weight:"bold"}),(0,i.jsx)(o.A,{defaultMessage:"Less",id:"mFYgAXM/x4"})]}):(0,i.jsx)(o.A,{defaultMessage:"{ellipsis}More",id:"eRW5dl5m34",values:{ellipsis:"..."}})})]})})]}):null}}}]);